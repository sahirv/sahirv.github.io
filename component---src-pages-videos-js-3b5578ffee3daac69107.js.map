{"version":3,"sources":["webpack:///./src/pages/videos.js","webpack:///./src/pages/videos.module.css","webpack:///./src/components/map/continents.module.css","webpack:///./src/components/map/thumbtack.js","webpack:///./src/components/map/continents.js","webpack:///./src/components/map/map.js"],"names":["SecondPage","data","useStaticQuery","image_data","nodes","earth_image_details","map_data","React","useState","undefined","useRef","pageTitle","title","className","styles","childrenContainer","videoContainer","src","frameborder","allow","allowfullscreen","module","exports","Thumbtack","props","pinRef","useEffect","matrix","current","icon","children","pinhead","pin","rx","baseVal","value","ry","a","cx","cy","style","strokeWidth","width","height","x","y","ref","version","position","top","left","onClick","e","stopPropagation","clickCallback","imageDetails","image","thumbtack","transform","fill","fillOpacity","fillRule","id","Continents","draw_continent","entry","path_html","push","d","continent_elements","continents","mapRef","c","continent","path","pins","i","selectImageCallback","numberOfItems","getItem","setMatrix","appendItem","createSVGTransformFromMatrix","clickedContinent","setClickedContinent","onContinentClick","viewBox","transformOrigin","selected","Map","matrixRef","val","setScale","func","event","preventDefault","map","currentTarget","worldMapContainer","worldMap","zoom","deltaY","scale_factor","pageX","offsetLeft","pageY","offsetTop","totalZoom","tx","ty","f","transformedWidth","scrollWidth","transformedHeight","scrollHeight","mat","createSVGMatrix","translate","scale","multiply","addEventListener","removeEventListener"],"mappings":"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","file":"component---src-pages-videos-js-3b5578ffee3daac69107.js","sourcesContent":["import React, { useRef } from \"react\"\nimport styles from \"./videos.module.css\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\n\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport PhotoGrid from \"../components/photogrid/grid\"\n\nimport Map from \"../components/map/map\"\n\nconst SecondPage = () => {\n  const data = useStaticQuery(graphql`\n  {\n    thumbnails: allFile(filter: {sourceInstanceName: {eq: \"earth\"}}) {\n      edges {\n        node {\n          childImageSharp {\n            fluid(maxWidth: 500, quality: 80, cropFocus: CENTER) {\n              originalName\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n    images: allFile(filter: {sourceInstanceName: {eq: \"earth\"}}) {\n      edges {\n        node {\n          childImageSharp {\n            fluid(maxWidth: 2000, quality: 72) {\n              originalName\n              ...GatsbyImageSharpFluid\n              src\n            }\n          }\n        }\n      }\n    }\n    image_data: allEarthJson {\n      nodes {\n        earth_image_details {\n          continent\n          description\n          image\n          title\n          location\n          x\n          y\n          tags\n        }\n      }\n    }\n    map_data: allMapJson {\n      nodes {\n        map_data {\n          continent\n          path\n        }\n      }\n    }\n    \n  }\n  `);\n  let imageDetails = data.image_data.nodes[0].earth_image_details;\n  let continents = data.map_data.nodes[0].map_data;\n\n  const [currentContinent, setCurrentContinent] = React.useState(\"none\");\n  const [filterOpen, setFilterOpen] = React.useState(false);\n  const [currentPictureFromPin, setCurrentPictureFromPin] = React.useState(undefined);\n  let [currentSection, setCurrentSection] = React.useState(\"all\");\n\n  const gridRef = useRef();\n\n  let selectImageCallback = (i) => {\n    setCurrentPictureFromPin(i);\n    console.log(i);\n  }\n\n  let continentClickCallback = (c) => {\n    setCurrentContinent(c);\n    // scrollToGrid(gridRef);\n    setFilterOpen(!filterOpen);\n  }\n  \n  return(\n  <Layout pageTitle=\"Earth\">\n    <SEO title=\"Earth - Travel\" />\n    <div className={styles.childrenContainer}>\n      <div className={styles.videoContainer}>\n        <h4>OREGON | Summer 2021</h4>\n        <iframe src=\"https://www.youtube.com/embed/voMdRKzszxo\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"true\"></iframe>\n      </div>\n      <div className={styles.videoContainer}>\n        <h4>OLYMPIC NATIONAL PARK | Summer 2021</h4>\n        <iframe src=\"https://www.youtube.com/embed/ltZlmji4frI\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"true\"></iframe>\n      </div>\n    </div>\n  </Layout>\n  );\n}\nexport default SecondPage\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"childrenContainer\":\"videos-module--childrenContainer--a0NdN\",\"videoContainer\":\"videos-module--videoContainer--2qHrW\",\"continentLabel\":\"videos-module--continentLabel--18z_C\",\"filterInstructions\":\"videos-module--filterInstructions--h3rlz\",\"earthDescription\":\"videos-module--earthDescription--2e27f\",\"continentFilterButton\":\"videos-module--continentFilterButton--2XseT\",\"travelNav\":\"videos-module--travelNav--2H7ai\",\"travelNavButton\":\"videos-module--travelNavButton--1JnqP\",\"continentContainer\":\"videos-module--continentContainer--190lp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"continents-module--selected--3aAvp\",\"map\":\"continents-module--map--2Iyuh\",\"thumbtack\":\"continents-module--thumbtack--3lYb2\",\"pinhead\":\"continents-module--pinhead--m4pHG\"};","import React, { useState, createRef, useRef, useEffect } from \"react\"\nimport styles from \"./continents.module.css\"\n\nconst Thumbtack = props => {\n\n    let pinRef = useRef(null);\n\n    useEffect(() => {\n        if (props.matrix && pinRef.current){\n            let icon = pinRef.current.children[0].children[0];\n            let pinhead = icon.children[1];\n            let pin = icon.children[0];\n \n            pinhead.rx.baseVal.value = pinhead.ry.baseVal.value = 20 / props.matrix.a;\n            pinhead.cx.baseVal.value =  34 + 3 - (3 / props.matrix.a);\n            pinhead.cy.baseVal.value = 40 + 50 - (50 / props.matrix.a);\n            pinhead.style.strokeWidth = 3 / props.matrix.a;\n\n            pin.width.baseVal.value = 2 / props.matrix.a;\n            pin.height.baseVal.value = 50 / props.matrix.a;\n            pin.x.baseVal.value = 34 + 3 - 1.5*(3 / props.matrix.a);\n            pin.y.baseVal.value = 40 + 50 - (50 / props.matrix.a);\n        }\n    });\n\n    return(\n        <svg ref={pinRef}>\n            <svg\n                version={\"1.1\"}\n                style={{position: \"absolute\",top: 0, left: 0, height: \"85px\", width: \"60px\"}}\n                onClick={(e) => {\n                    e.stopPropagation();\n                    props.clickCallback(props.imageDetails.image)}}>\n                <g\n                    className={styles.thumbtack}\n                    style={{transform: \"translate(\" + props.imageDetails.x + \"px, \" + props.imageDetails.y + \"px) scale(0.2)\"}}>\n                    <rect\n                    style={{fill:\"#9b9b9b\",fillOpacity:1,fillRule:\"evenodd\"}}\n                    id={\"rect3348\"}\n                    width={\"3\"}\n                    height={\"50\"}\n                    x={\"34\"}\n                    y={\"40\"} />\n                    <ellipse\n                    className={styles.pinhead}\n                    id={\"path3338\"}\n                    cx={\"36\"}\n                    cy={\"40\"}\n                    rx={\"20\"}\n                    ry={\"20\"} />\n                </g>\n            </svg>\n        </svg>\n    )\n}\n\nexport default Thumbtack","import React, { useState, createRef, useRef, useEffect } from \"react\"\nimport styles from \"./continents.module.css\"\nimport Thumbtack from \"./thumbtack.js\"\n\nconst Continents = props => {\n    let draw_continent = (entry) => {\n        let path_html = [];\n        for (let e in entry){\n            path_html.push(\n                <path d={entry[e]} />\n            );\n        }\n        return path_html;\n    }\n    let continent_elements = {};\n    let continents = props.continents;\n\n    let mapRef = useRef(null);\n\n    for (let c in continents) {\n        continent_elements[continents[c].continent] = draw_continent(continents[c].path)\n    }\n\n    let matrix = props.matrix;  \n\n    // generate pins\n    let pins = [];\n    for (var i in props.imageDetails){\n        let image = props.imageDetails[i];\n        pins.push(<Thumbtack matrix={props.matrix} imageDetails={image} clickCallback={props.selectImageCallback}/>);\n    }\n\n    useEffect(() => {\n        if (matrix && mapRef.current){\n            if (mapRef.current.transform.baseVal.numberOfItems){\n                mapRef.current.transform.baseVal.getItem(0).setMatrix(matrix);\n            } else {\n                mapRef.current.transform.baseVal.appendItem(mapRef.current.createSVGTransformFromMatrix(matrix));\n            }\n        }\n    });\n\n    const [clickedContinent, setClickedContinent] = useState(undefined);\n\n    return(\n        <div id=\"worldMapContainer\">\n            <svg\n                onClick={() => {props.onContinentClick(undefined); setClickedContinent(undefined);}}\n                version=\"1.0\"\n                width=\"100%\"\n                viewBox=\"40 0 385 205\"\n                id=\"worldMap\"\n                ref={mapRef}\n                style={{transformOrigin: \"0 0\"}}>\n                \n                {/*Africa */}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"africa\"); setClickedContinent(\"africa\");}}\n                id=\"africa\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"africa\" ? styles.selected : null }>\n                {continent_elements[\"africa\"]}\n                </g>\n                {/*Asia*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"asia\"); setClickedContinent(\"asia\");}}\n                id=\"asia\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"asia\" ? styles.selected : null }>\n                {continent_elements[\"asia\"]}\n                </g>\n                {/*Australia*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"australia\"); setClickedContinent(\"australia\");}}\n                id=\"australia\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"australia\" ? styles.selected : null }>\n                {continent_elements[\"australia\"]}\n                </g>\n                {/*Europe*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"europe\"); setClickedContinent(\"europe\");}}\n                id=\"europe\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"europe\" ? styles.selected : null }>\n                {continent_elements[\"europe\"]}\n                </g>\n                {/*South America*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"south america\"); setClickedContinent(\"south america\");}}\n                id=\"south_america\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"south america\" ? styles.selected : null }>\n                {continent_elements[\"south america\"]}\n                </g>\n                {/*North America*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"north america\"); setClickedContinent(\"north america\");}}\n                id=\"north_america\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"north america\" ? styles.selected : null }>\n                {continent_elements[\"north america\"]}\n                </g>\n                {pins}\n            </svg>\n            \n        </div>\n    )\n}\n\nexport default Continents","import React, { useRef, useEffect, useState } from \"react\"\nimport Continents from \"./continents.js\"\nimport styles from \"./continents.module.css\"\n\nconst Map = props => {\n    let ref = useRef(null);\n    let matrixRef = useRef();\n    let [scale, setScale] = useState({val: 0, x: 0, y: 0});\n\n    let func = (event) => {\n            event.preventDefault();\n            let map = event.currentTarget.children.worldMapContainer.children.worldMap;\n            let zoom = event.deltaY > 0 ? -1 : 1;\n            let scale_factor = 1 + 0.05 * zoom;\n            let x = event.pageX - event.currentTarget.offsetLeft;\n            let y = event.pageY - event.currentTarget.offsetTop;\n            let transform = map.transform.baseVal[0];\n\n            if (transform != undefined){\n                let totalZoom = transform.matrix.a;\n\n                if (zoom < 1 && totalZoom <= 1) {\n                    return;\n                }\n\n                let tx = transform.matrix.e;\n                let ty = transform.matrix.f;\n                \n                let transformedWidth = map.scrollWidth * totalZoom;\n                let transformedHeight = map.scrollHeight * totalZoom;\n\n                // Configure zoom out, latch to one corner once it is visible\n                if (zoom < 1) {\n                    if (tx >= 0) {\n                        x = 0;\n                    }\n                    if (transformedWidth + tx - map.scrollWidth <= 0) {\n                        x = map.scrollWidth;\n                    }\n                    if (ty >= 0) {\n                        y = 0;\n                    }\n                    if (transformedHeight + ty - map.scrollHeight <= 0) {\n                        y = map.scrollHeight;\n                    }\n                }\n            }\n            let mat = map.createSVGMatrix()\n                .translate(x, y)\n                .scale(scale_factor, scale_factor)\n                .translate(-x, -y);\n            if (matrixRef.current){\n                mat = mat.multiply(matrixRef.current);\n            }\n            matrixRef.current = mat;\n\n            //trigger render\n            setScale(matrixRef.current);\n    }\n    useEffect(() => {\n        if (ref.current) {\n            ref.current.addEventListener(\"wheel\", func);\n            return function () {\n                ref.current.removeEventListener(\"wheel\", func);\n              }\n        }\n    }, [ref]);\n\n    return (\n        <div ref={ref} className={styles.map} id=\"mapcontainer\">\n            <Continents continents={props.continents} \n                        onContinentClick={props.onContinentClick} \n                        matrix={matrixRef.current} \n                        imageDetails={props.imageDetails}\n                        selectImageCallback={props.selectImageCallback}/>\n        </div>\n    );\n}\n\nexport default Map"],"sourceRoot":""}