{"version":3,"sources":["webpack:///./src/pages/travel.module.css","webpack:///./src/components/map/continents.module.css","webpack:///./src/pages/photography.js","webpack:///./src/components/map/thumbtack.js","webpack:///./src/components/map/continents.js","webpack:///./src/components/map/map.js"],"names":["module","exports","SecondPage","data","useStaticQuery","imageDetails","image_data","nodes","earth_image_details","continents","map_data","React","useState","currentContinent","setCurrentContinent","filterOpen","setFilterOpen","undefined","currentPictureFromPin","setCurrentPictureFromPin","currentSection","setCurrentSection","gridRef","useRef","pageTitle","title","className","styles","travelNav","travelNavButton","selected","onClick","childrenContainer","earthDescription","continentContainer","onContinentClick","c","selectImageCallback","i","console","log","continent","thumbnails","edges","images","pictureFromPin","isWildlife","Thumbtack","props","pinRef","useEffect","matrix","current","icon","children","pinhead","pin","rx","baseVal","value","ry","a","cx","cy","style","strokeWidth","width","height","x","y","ref","version","position","top","left","e","stopPropagation","clickCallback","image","thumbtack","transform","fill","fillOpacity","fillRule","id","Continents","draw_continent","entry","path_html","push","d","continent_elements","mapRef","path","pins","numberOfItems","getItem","setMatrix","appendItem","createSVGTransformFromMatrix","clickedContinent","setClickedContinent","viewBox","transformOrigin","Map","matrixRef","val","setScale","func","event","preventDefault","map","currentTarget","worldMapContainer","worldMap","zoom","deltaY","scale_factor","pageX","offsetLeft","pageY","offsetTop","totalZoom","tx","ty","f","transformedWidth","scrollWidth","transformedHeight","scrollHeight","mat","createSVGMatrix","translate","scale","multiply","addEventListener","removeEventListener"],"mappings":"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","file":"component---src-pages-photography-js-02608804a5cd41679d36.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"childrenContainer\":\"travel-module--childrenContainer--34_2E\",\"earthDescription\":\"travel-module--earthDescription--3JG8r\",\"hrStyle\":\"travel-module--hrStyle--1jtnH\",\"continentContainer\":\"travel-module--continentContainer--17M8g\",\"continentFilterButton\":\"travel-module--continentFilterButton--3hCZ6\",\"filterOpen\":\"travel-module--filterOpen--wYYdU\",\"filterInstructions\":\"travel-module--filterInstructions--2Tk7v\",\"continentLabel\":\"travel-module--continentLabel--f6ezg\",\"travelNav\":\"travel-module--travelNav--1PBbm\",\"travelNavButton\":\"travel-module--travelNavButton--WBdvs\",\"selected\":\"travel-module--selected--1IFnH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"continents-module--selected--3aAvp\",\"map\":\"continents-module--map--2Iyuh\",\"thumbtack\":\"continents-module--thumbtack--3lYb2\",\"pinhead\":\"continents-module--pinhead--m4pHG\"};","import React, { useRef } from \"react\"\nimport styles from \"./travel.module.css\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\n\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport PhotoGrid from \"../components/photogrid/grid\"\n\nimport Map from \"../components/map/map\"\n\nconst SecondPage = () => {\n  const data = useStaticQuery(graphql`\n  {\n    thumbnails: allFile(filter: {sourceInstanceName: {eq: \"earth\"}}) {\n      edges {\n        node {\n          childImageSharp {\n            fluid(maxWidth: 500, quality: 80, cropFocus: CENTER) {\n              originalName\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n    images: allFile(filter: {sourceInstanceName: {eq: \"earth\"}}) {\n      edges {\n        node {\n          childImageSharp {\n            fluid(maxWidth: 2000, quality: 72) {\n              originalName\n              ...GatsbyImageSharpFluid\n              src\n            }\n          }\n        }\n      }\n    }\n    image_data: allEarthJson {\n      nodes {\n        earth_image_details {\n          continent\n          description\n          image\n          title\n          location\n          x\n          y\n          tags\n        }\n      }\n    }\n    map_data: allMapJson {\n      nodes {\n        map_data {\n          continent\n          path\n        }\n      }\n    }\n    \n  }\n  `);\n  let imageDetails = data.image_data.nodes[0].earth_image_details;\n  let continents = data.map_data.nodes[0].map_data;\n\n  const [currentContinent, setCurrentContinent] = React.useState(\"none\");\n  const [filterOpen, setFilterOpen] = React.useState(false);\n  const [currentPictureFromPin, setCurrentPictureFromPin] = React.useState(undefined);\n  let [currentSection, setCurrentSection] = React.useState(\"all\");\n\n  const gridRef = useRef();\n\n  let selectImageCallback = (i) => {\n    setCurrentPictureFromPin(i);\n    console.log(i);\n  }\n\n  let continentClickCallback = (c) => {\n    setCurrentContinent(c);\n    // scrollToGrid(gridRef);\n    setFilterOpen(!filterOpen);\n  }\n  \n  return(\n  <Layout pageTitle=\"Earth\">\n    <SEO title=\"Earth - Travel\" />\n    <div className={styles.travelNav}>\n        <div className={currentSection == \"all\" ? styles.travelNavButton + \" \" + styles.selected : styles.travelNavButton}  onClick={() => setCurrentSection(\"all\")}>All Photos</div>\n        <div className={currentSection == \"wildlife\" ? styles.travelNavButton + \" \" + styles.selected : styles.travelNavButton} onClick={() => setCurrentSection(\"wildlife\")}>Wildlife</div>\n        <div className={currentSection == \"map\" ? styles.travelNavButton + \" \" + styles.selected : styles.travelNavButton} onClick={() => setCurrentSection(\"map\")}>Map </div>\n    </div>\n    <div className={styles.childrenContainer}>\n    { currentSection == \"map\" ?\n      <div>\n        <div className={styles.earthDescription}>This page is for me as much as it is for you. Here I present to you the pictures I've taken of everything that we can find on our own wonderful planet. I'm not a photographer by any means, but I'm trying to learn. Some of the pictures here are taken with smartphone cameras, and others with a DSLR. The map is there for me to document where I've been; ultimately the goal is to cover the whole thing with pins. Feel free to zoom in and click on a pin to see what I took a picture of at that spot on Earth. If you just want to see photos, check out the Wildlife and Photos tabs.</div>\n        <div className={styles.continentContainer}>\n          <Map continents={continents} onContinentClick={continentClickCallback} imageDetails={imageDetails} selectImageCallback={selectImageCallback}/>\n        </div>\n      </div> : <></> }\n      <PhotoGrid\n        gridRef={gridRef}\n        continent={currentSection == \"all\" ? undefined : currentContinent} \n        thumbnails={data.thumbnails.edges} \n        images={data.images.edges} \n        imageDetails={imageDetails}\n        pictureFromPin={currentPictureFromPin}\n        isWildlife={currentSection == \"wildlife\"}></PhotoGrid>\n    </div>\n  </Layout>\n  );\n}\nexport default SecondPage\n","import React, { useState, createRef, useRef, useEffect } from \"react\"\nimport styles from \"./continents.module.css\"\n\nconst Thumbtack = props => {\n\n    let pinRef = useRef(null);\n\n    useEffect(() => {\n        if (props.matrix && pinRef.current){\n            let icon = pinRef.current.children[0].children[0];\n            let pinhead = icon.children[1];\n            let pin = icon.children[0];\n \n            pinhead.rx.baseVal.value = pinhead.ry.baseVal.value = 20 / props.matrix.a;\n            pinhead.cx.baseVal.value =  34 + 3 - (3 / props.matrix.a);\n            pinhead.cy.baseVal.value = 40 + 50 - (50 / props.matrix.a);\n            pinhead.style.strokeWidth = 3 / props.matrix.a;\n\n            pin.width.baseVal.value = 2 / props.matrix.a;\n            pin.height.baseVal.value = 50 / props.matrix.a;\n            pin.x.baseVal.value = 34 + 3 - 1.5*(3 / props.matrix.a);\n            pin.y.baseVal.value = 40 + 50 - (50 / props.matrix.a);\n        }\n    });\n\n    return(\n        <svg ref={pinRef}>\n            <svg\n                version={\"1.1\"}\n                style={{position: \"absolute\",top: 0, left: 0, height: \"85px\", width: \"60px\"}}\n                onClick={(e) => {\n                    e.stopPropagation();\n                    props.clickCallback(props.imageDetails.image)}}>\n                <g\n                    className={styles.thumbtack}\n                    style={{transform: \"translate(\" + props.imageDetails.x + \"px, \" + props.imageDetails.y + \"px) scale(0.2)\"}}>\n                    <rect\n                    style={{fill:\"#9b9b9b\",fillOpacity:1,fillRule:\"evenodd\"}}\n                    id={\"rect3348\"}\n                    width={\"3\"}\n                    height={\"50\"}\n                    x={\"34\"}\n                    y={\"40\"} />\n                    <ellipse\n                    className={styles.pinhead}\n                    id={\"path3338\"}\n                    cx={\"36\"}\n                    cy={\"40\"}\n                    rx={\"20\"}\n                    ry={\"20\"} />\n                </g>\n            </svg>\n        </svg>\n    )\n}\n\nexport default Thumbtack","import React, { useState, createRef, useRef, useEffect } from \"react\"\nimport styles from \"./continents.module.css\"\nimport Thumbtack from \"./thumbtack.js\"\n\nconst Continents = props => {\n    let draw_continent = (entry) => {\n        let path_html = [];\n        for (let e in entry){\n            path_html.push(\n                <path d={entry[e]} />\n            );\n        }\n        return path_html;\n    }\n    let continent_elements = {};\n    let continents = props.continents;\n\n    let mapRef = useRef(null);\n\n    for (let c in continents) {\n        continent_elements[continents[c].continent] = draw_continent(continents[c].path)\n    }\n\n    let matrix = props.matrix;  \n\n    // generate pins\n    let pins = [];\n    for (var i in props.imageDetails){\n        let image = props.imageDetails[i];\n        pins.push(<Thumbtack matrix={props.matrix} imageDetails={image} clickCallback={props.selectImageCallback}/>);\n    }\n\n    useEffect(() => {\n        if (matrix && mapRef.current){\n            if (mapRef.current.transform.baseVal.numberOfItems){\n                mapRef.current.transform.baseVal.getItem(0).setMatrix(matrix);\n            } else {\n                mapRef.current.transform.baseVal.appendItem(mapRef.current.createSVGTransformFromMatrix(matrix));\n            }\n        }\n    });\n\n    const [clickedContinent, setClickedContinent] = useState(undefined);\n\n    return(\n        <div id=\"worldMapContainer\">\n            <svg\n                onClick={() => {props.onContinentClick(undefined); setClickedContinent(undefined);}}\n                version=\"1.0\"\n                width=\"100%\"\n                viewBox=\"40 0 385 205\"\n                id=\"worldMap\"\n                ref={mapRef}\n                style={{transformOrigin: \"0 0\"}}>\n                \n                {/*Africa */}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"africa\"); setClickedContinent(\"africa\");}}\n                id=\"africa\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"africa\" ? styles.selected : null }>\n                {continent_elements[\"africa\"]}\n                </g>\n                {/*Asia*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"asia\"); setClickedContinent(\"asia\");}}\n                id=\"asia\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"asia\" ? styles.selected : null }>\n                {continent_elements[\"asia\"]}\n                </g>\n                {/*Australia*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"australia\"); setClickedContinent(\"australia\");}}\n                id=\"australia\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"australia\" ? styles.selected : null }>\n                {continent_elements[\"australia\"]}\n                </g>\n                {/*Europe*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"europe\"); setClickedContinent(\"europe\");}}\n                id=\"europe\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"europe\" ? styles.selected : null }>\n                {continent_elements[\"europe\"]}\n                </g>\n                {/*South America*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"south america\"); setClickedContinent(\"south america\");}}\n                id=\"south_america\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"south america\" ? styles.selected : null }>\n                {continent_elements[\"south america\"]}\n                </g>\n                {/*North America*/}\n                <g\n                onClick={(e) => {e.stopPropagation(); props.onContinentClick(\"north america\"); setClickedContinent(\"north america\");}}\n                id=\"north_america\"\n                transform=\"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)\"\n                className={clickedContinent == \"north america\" ? styles.selected : null }>\n                {continent_elements[\"north america\"]}\n                </g>\n                {pins}\n            </svg>\n            \n        </div>\n    )\n}\n\nexport default Continents","import React, { useRef, useEffect, useState } from \"react\"\nimport Continents from \"./continents.js\"\nimport styles from \"./continents.module.css\"\n\nconst Map = props => {\n    let ref = useRef(null);\n    let matrixRef = useRef();\n    let [scale, setScale] = useState({val: 0, x: 0, y: 0});\n\n    let func = (event) => {\n            event.preventDefault();\n            let map = event.currentTarget.children.worldMapContainer.children.worldMap;\n            let zoom = event.deltaY > 0 ? -1 : 1;\n            let scale_factor = 1 + 0.05 * zoom;\n            let x = event.pageX - event.currentTarget.offsetLeft;\n            let y = event.pageY - event.currentTarget.offsetTop;\n            let transform = map.transform.baseVal[0];\n\n            if (transform != undefined){\n                let totalZoom = transform.matrix.a;\n\n                if (zoom < 1 && totalZoom <= 1) {\n                    return;\n                }\n\n                let tx = transform.matrix.e;\n                let ty = transform.matrix.f;\n                \n                let transformedWidth = map.scrollWidth * totalZoom;\n                let transformedHeight = map.scrollHeight * totalZoom;\n\n                // Configure zoom out, latch to one corner once it is visible\n                if (zoom < 1) {\n                    if (tx >= 0) {\n                        x = 0;\n                    }\n                    if (transformedWidth + tx - map.scrollWidth <= 0) {\n                        x = map.scrollWidth;\n                    }\n                    if (ty >= 0) {\n                        y = 0;\n                    }\n                    if (transformedHeight + ty - map.scrollHeight <= 0) {\n                        y = map.scrollHeight;\n                    }\n                }\n            }\n            let mat = map.createSVGMatrix()\n                .translate(x, y)\n                .scale(scale_factor, scale_factor)\n                .translate(-x, -y);\n            if (matrixRef.current){\n                mat = mat.multiply(matrixRef.current);\n            }\n            matrixRef.current = mat;\n\n            //trigger render\n            setScale(matrixRef.current);\n    }\n    useEffect(() => {\n        if (ref.current) {\n            ref.current.addEventListener(\"wheel\", func);\n            return function () {\n                ref.current.removeEventListener(\"wheel\", func);\n              }\n        }\n    }, [ref]);\n\n    return (\n        <div ref={ref} className={styles.map} id=\"mapcontainer\">\n            <Continents continents={props.continents} \n                        onContinentClick={props.onContinentClick} \n                        matrix={matrixRef.current} \n                        imageDetails={props.imageDetails}\n                        selectImageCallback={props.selectImageCallback}/>\n        </div>\n    );\n}\n\nexport default Map"],"sourceRoot":""}