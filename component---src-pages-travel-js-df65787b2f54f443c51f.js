(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{KT0D:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),i=a("X06M"),l=a.n(i),o=a("Bl7J"),c=a("vrFN"),s=a("Wbzz"),m=a("sh+E"),u=a("aJDf"),d=a.n(u),f=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(e.matrix&&t.current){var a=t.current.children[0].children[0],n=a.children[1],r=a.children[0];n.rx.baseVal.value=n.ry.baseVal.value=20/e.matrix.a,n.cx.baseVal.value=37-3/e.matrix.a,n.cy.baseVal.value=90-50/e.matrix.a,n.style.strokeWidth=3/e.matrix.a,r.width.baseVal.value=2/e.matrix.a,r.height.baseVal.value=50/e.matrix.a,r.x.baseVal.value=37-3/e.matrix.a*1.5,r.y.baseVal.value=90-50/e.matrix.a}})),r.a.createElement("svg",{ref:t},r.a.createElement("svg",{version:"1.1",style:{position:"absolute",top:0,left:0,height:"85px",width:"60px"},onClick:function(t){t.stopPropagation(),e.clickCallback(e.imageDetails.image)}},r.a.createElement("g",{className:d.a.thumbtack,style:{transform:"translate("+e.imageDetails.x+"px, "+e.imageDetails.y+"px) scale(0.2)"}},r.a.createElement("rect",{style:{fill:"#9b9b9b",fillOpacity:1,fillRule:"evenodd"},id:"rect3348",width:"3",height:"50",x:"34",y:"40"}),r.a.createElement("ellipse",{className:d.a.pinhead,id:"path3338",cx:"36",cy:"40",rx:"20",ry:"20"}))))},v=function(e){var t=function(e){var t=[];for(var a in e)t.push(r.a.createElement("path",{d:e[a]}));return t},a={},i=e.continents,l=Object(n.useRef)(null);for(var o in i)a[i[o].continent]=t(i[o].path);var c=e.matrix,s=[];for(var m in e.imageDetails){var u=e.imageDetails[m];s.push(r.a.createElement(f,{matrix:e.matrix,imageDetails:u,clickCallback:e.selectImageCallback}))}Object(n.useEffect)((function(){c&&l.current&&(l.current.transform.baseVal.numberOfItems?l.current.transform.baseVal.getItem(0).setMatrix(c):l.current.transform.baseVal.appendItem(l.current.createSVGTransformFromMatrix(c)))}));var v=Object(n.useState)(void 0),h=v[0],p=v[1];return r.a.createElement("div",{id:"worldMapContainer"},r.a.createElement("svg",{onClick:function(){e.onContinentClick(void 0),p(void 0)},version:"1.0",width:"100%",viewBox:"40 0 385 205",id:"worldMap",ref:l,style:{transformOrigin:"0 0"}},r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("africa"),p("africa")},id:"africa",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"africa"==h?d.a.selected:null},a.africa),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("asia"),p("asia")},id:"asia",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"asia"==h?d.a.selected:null},a.asia),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("australia"),p("australia")},id:"australia",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"australia"==h?d.a.selected:null},a.australia),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("europe"),p("europe")},id:"europe",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"europe"==h?d.a.selected:null},a.europe),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("south america"),p("south america")},id:"south_america",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"south america"==h?d.a.selected:null},a["south america"]),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("north america"),p("north america")},id:"north_america",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"north america"==h?d.a.selected:null},a["north america"]),s))},h=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(),i=Object(n.useState)({val:0,x:0,y:0}),l=(i[0],i[1]),o=function(e){e.preventDefault();var t=e.currentTarget.children.worldMapContainer.children.worldMap,n=e.deltaY>0?-1:1,r=1+.05*n,i=e.pageX-e.currentTarget.offsetLeft,o=e.pageY-e.currentTarget.offsetTop,c=t.transform.baseVal[0];if(null!=c){var s=c.matrix.a;if(n<1&&s<=1)return;var m=c.matrix.e,u=c.matrix.f,d=t.scrollWidth*s,f=t.scrollHeight*s;n<1&&(m>=0&&(i=0),d+m-t.scrollWidth<=0&&(i=t.scrollWidth),u>=0&&(o=0),f+u-t.scrollHeight<=0&&(o=t.scrollHeight))}var v=t.createSVGMatrix().translate(i,o).scale(r,r).translate(-i,-o);a.current&&(v=v.multiply(a.current)),a.current=v,l(a.current)};return Object(n.useEffect)((function(){if(t.current)return t.current.addEventListener("wheel",o),function(){t.current.removeEventListener("wheel",o)}}),[t]),r.a.createElement("div",{ref:t,className:d.a.map,id:"mapcontainer"},r.a.createElement(v,{continents:e.continents,onContinentClick:e.onContinentClick,matrix:a.current,imageDetails:e.imageDetails,selectImageCallback:e.selectImageCallback}))};t.default=function(){var e=Object(s.useStaticQuery)("2310117209"),t=e.image_data.nodes[0].earth_image_details,a=e.map_data.nodes[0].map_data,i=r.a.useState("none"),u=i[0],d=i[1],f=r.a.useState(!1),v=f[0],p=f[1],g=r.a.useState(void 0),b=g[0],C=g[1],k=r.a.useState("all"),x=k[0],E=k[1],w=Object(n.useRef)();return r.a.createElement(o.a,{pageTitle:"Earth"},r.a.createElement(c.a,{title:"Earth - Travel"}),r.a.createElement("div",{className:l.a.travelNav},r.a.createElement("div",{className:"all"==x?l.a.travelNavButton+" "+l.a.selected:l.a.travelNavButton,onClick:function(){return E("all")}},"All Photos"),r.a.createElement("div",{className:"wildlife"==x?l.a.travelNavButton+" "+l.a.selected:l.a.travelNavButton,onClick:function(){return E("wildlife")}},"Wildlife"),r.a.createElement("div",{className:"map"==x?l.a.travelNavButton+" "+l.a.selected:l.a.travelNavButton,onClick:function(){return E("map")}},"Map ")),r.a.createElement("div",{className:l.a.childrenContainer},"map"==x?r.a.createElement("div",null,r.a.createElement("div",{className:l.a.earthDescription},"This page is for me as much as it is for you. Here I present to you the pictures I've taken of everything that we can find on our own wonderful planet. I'm not a photographer by any means, but I'm trying to learn. Some of the pictures here are taken with smartphone cameras, and others with a DSLR. The map is there for me to document where I've been; ultimately the goal is to cover the whole thing with pins. Feel free to zoom in and click on a pin to see what I took a picture of at that spot on Earth. If you just want to see photos, check out the Wildlife and Photos tabs."),r.a.createElement("div",{className:l.a.continentContainer},r.a.createElement(h,{continents:a,onContinentClick:function(e){d(e),p(!v)},imageDetails:t,selectImageCallback:function(e){C(e),console.log(e)}}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(m.a,{gridRef:w,continent:"all"==x?void 0:u,thumbnails:e.thumbnails.edges,images:e.images.edges,imageDetails:t,pictureFromPin:b,isWildlife:"wildlife"==x})))}},X06M:function(e,t,a){e.exports={childrenContainer:"travel-module--childrenContainer--34_2E",earthDescription:"travel-module--earthDescription--3JG8r",hrStyle:"travel-module--hrStyle--1jtnH",continentContainer:"travel-module--continentContainer--17M8g",continentFilterButton:"travel-module--continentFilterButton--3hCZ6",filterOpen:"travel-module--filterOpen--wYYdU",filterInstructions:"travel-module--filterInstructions--2Tk7v",continentLabel:"travel-module--continentLabel--f6ezg",travelNav:"travel-module--travelNav--1PBbm",travelNavButton:"travel-module--travelNavButton--WBdvs",selected:"travel-module--selected--1IFnH"}},aJDf:function(e,t,a){e.exports={selected:"continents-module--selected--3aAvp",map:"continents-module--map--2Iyuh",thumbtack:"continents-module--thumbtack--3lYb2",pinhead:"continents-module--pinhead--m4pHG"}}}]);
//# sourceMappingURL=component---src-pages-travel-js-df65787b2f54f443c51f.js.map