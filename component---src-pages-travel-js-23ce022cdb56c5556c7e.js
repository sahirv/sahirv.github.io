(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{KT0D:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),i=a("X06M"),l=a.n(i),c=a("Bl7J"),o=a("vrFN"),s=a("Wbzz"),m=a("sh+E"),u=a("aJDf"),f=a.n(u),d=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(e.matrix&&t.current){var a=t.current.children[0].children[0],n=a.children[1],r=a.children[0];n.rx.baseVal.value=n.ry.baseVal.value=20/e.matrix.a,n.cx.baseVal.value=37-3/e.matrix.a,n.cy.baseVal.value=90-50/e.matrix.a,n.style.strokeWidth=3/e.matrix.a,r.width.baseVal.value=2/e.matrix.a,r.height.baseVal.value=50/e.matrix.a,r.x.baseVal.value=37-3/e.matrix.a*1.5,r.y.baseVal.value=90-50/e.matrix.a}})),r.a.createElement("svg",{ref:t},r.a.createElement("svg",{version:"1.1",style:{position:"absolute",top:0,left:0,height:"85px",width:"60px"},onClick:function(t){t.stopPropagation(),e.clickCallback(e.imageDetails.image)}},r.a.createElement("g",{className:f.a.thumbtack,style:{transform:"translate("+e.imageDetails.x+"px, "+e.imageDetails.y+"px) scale(0.2)"}},r.a.createElement("rect",{style:{fill:"#9b9b9b",fillOpacity:1,fillRule:"evenodd"},id:"rect3348",width:"3",height:"50",x:"34",y:"40"}),r.a.createElement("ellipse",{className:f.a.pinhead,id:"path3338",cx:"36",cy:"40",rx:"20",ry:"20"}))))},h=function(e){var t=function(e){var t=[];for(var a in e)t.push(r.a.createElement("path",{d:e[a]}));return t},a={},i=e.continents,l=Object(n.useRef)(null);for(var c in i)a[i[c].continent]=t(i[c].path);var o=e.matrix,s=[];for(var m in e.imageDetails){var u=e.imageDetails[m];s.push(r.a.createElement(d,{matrix:e.matrix,imageDetails:u,clickCallback:e.selectImageCallback}))}Object(n.useEffect)((function(){o&&l.current&&(l.current.transform.baseVal.numberOfItems?l.current.transform.baseVal.getItem(0).setMatrix(o):l.current.transform.baseVal.appendItem(l.current.createSVGTransformFromMatrix(o)))}));var h=Object(n.useState)(void 0),p=h[0],v=h[1];return r.a.createElement("div",{id:"worldMapContainer"},r.a.createElement("svg",{onClick:function(){e.onContinentClick(void 0),v(void 0)},version:"1.0",width:"100%",viewBox:"0 0 468 200",id:"worldMap",ref:l,style:{transformOrigin:"0 0"}},r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("africa"),v("africa")},id:"africa",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"africa"==p?f.a.selected:null},a.africa),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("asia"),v("asia")},id:"asia",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"asia"==p?f.a.selected:null},a.asia),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("australia"),v("australia")},id:"australia",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"australia"==p?f.a.selected:null},a.australia),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("europe"),v("europe")},id:"europe",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"europe"==p?f.a.selected:null},a.europe),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("south america"),v("south america")},id:"south_america",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"south america"==p?f.a.selected:null},a["south america"]),r.a.createElement("g",{onClick:function(t){t.stopPropagation(),e.onContinentClick("north america"),v("north america")},id:"north_america",transform:"matrix(1.6963e-2,0,0,-1.6963e-2,0,239)",className:"north america"==p?f.a.selected:null},a["north america"]),s))},p=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(),i=Object(n.useState)({val:0,x:0,y:0}),l=(i[0],i[1]),c=function(e){e.preventDefault();var t=e.currentTarget.children.worldMapContainer.children.worldMap,n=e.deltaY>0?-1:1,r=1+.05*n,i=e.pageX-e.currentTarget.offsetLeft,c=e.pageY-e.currentTarget.offsetTop,o=t.transform.baseVal[0];if(null!=o){var s=o.matrix.a;if(n<1&&s<=1)return;var m=o.matrix.e,u=o.matrix.f,f=t.scrollWidth*s,d=t.scrollHeight*s;n<1&&(m>=0&&(i=0),f+m-t.scrollWidth<=0&&(i=t.scrollWidth),u>=0&&(c=0),d+u-t.scrollHeight<=0&&(c=t.scrollHeight))}var h=t.createSVGMatrix().translate(i,c).scale(r,r).translate(-i,-c);a.current&&(h=h.multiply(a.current)),a.current=h,l(a.current)};return Object(n.useEffect)((function(){if(t.current)return t.current.addEventListener("wheel",c),function(){t.current.removeEventListener("wheel",c)}}),[t]),r.a.createElement("div",{ref:t,className:f.a.map,id:"mapcontainer"},r.a.createElement(h,{continents:e.continents,onContinentClick:e.onContinentClick,matrix:a.current,imageDetails:e.imageDetails,selectImageCallback:e.selectImageCallback}))};t.default=function(){var e=Object(s.useStaticQuery)("1413320821"),t=e.image_data.nodes[0].earth_image_details,a=e.map_data.nodes[0].map_data,i=r.a.useState(void 0),u=i[0],f=i[1],d=r.a.useState(!1),h=d[0],v=d[1],g=r.a.useState(void 0),b=g[0],C=g[1],x=Object(n.useRef)();return r.a.createElement(c.a,{pageTitle:"Earth"},r.a.createElement(o.a,{title:"Earth - Travel"}),r.a.createElement("div",{className:l.a.earthDescription},"What should we do with our time but to explore? I haven't seen much of the world, but the parts I have seen offered plenty of beautiful scenes and moments."),r.a.createElement("hr",{className:l.a.hrStyle}),r.a.createElement("div",null,r.a.createElement("h4",{className:l.a.continentLabel},"Showing ",u||"All Continents"),r.a.createElement("div",{className:l.a.continentFilterButton,onClick:function(){v(!h)}},r.a.createElement("i",{class:"fa fa-filter"})),r.a.createElement("div",{className:h?l.a.continentFilterContainer+" "+l.a.filterOpen:l.a.continentFilterContainer},r.a.createElement("p",{className:l.a.filterInstructions},"Click on the continents to filter."),r.a.createElement(p,{continents:a,onContinentClick:function(e){f(e),v(!h)},imageDetails:t,selectImageCallback:function(e){C(e),console.log(e)}}))),r.a.createElement(m.a,{gridRef:x,continent:u,thumbnails:e.thumbnails.edges,images:e.images.edges,imageDetails:t,pictureFromPin:b}))}},X06M:function(e,t,a){e.exports={earthDescription:"travel-module--earthDescription--3JG8r",hrStyle:"travel-module--hrStyle--1jtnH",continentFilterContainer:"travel-module--continentFilterContainer--3TuK8",continentFilterButton:"travel-module--continentFilterButton--3hCZ6",filterOpen:"travel-module--filterOpen--wYYdU",filterInstructions:"travel-module--filterInstructions--2Tk7v",continentLabel:"travel-module--continentLabel--f6ezg"}},aJDf:function(e,t,a){e.exports={selected:"continents-module--selected--3aAvp",map:"continents-module--map--2Iyuh",thumbtack:"continents-module--thumbtack--3lYb2",pinhead:"continents-module--pinhead--m4pHG"}}}]);
//# sourceMappingURL=component---src-pages-travel-js-23ce022cdb56c5556c7e.js.map